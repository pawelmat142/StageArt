<div class="panel-container">

    <div class="panel-section">

        <div class="panel-section-header">
            <h2 class="fs3 light">Your artists</h2>
        </div>

        <div class="">
            <div class="item-row panel-artist-item labels">
                <p>Artist name</p>
                <p>Status</p>
            </div>
            @for (artist of _artists$ | async; track artist.signature; let last = $last) {
                
                <div class="item-row">
                    <p>{{artist.name}}</p>
                    <p [matTooltip]="_artistStatusTooltip(artist.status)">{{artist.status | status }}</p>

                    <div class="item-row-btns">
                        @if (['READY', 'INACTIVE'].includes(artist.status)) {
                            <app-btn
                                label="activate"
                                (click)="_activate(artist)"
                            ></app-btn>
                        }
                        @if (['ACTIVE'].includes(artist.status)) {
                            <app-btn
                                label="deactivate"
                                (click)="_deactivate(artist)"
                            ></app-btn>
                        }
                        <app-btn
                            class="light"
                            label="View"
                            (click)="_artistView(artist)"
                        ></app-btn>
                        <app-btn
                            [label]="artist.managmentNotes ? 'Edit notes' : 'Add notes'"
                            (click)="_addNotes(artist)"
                        ></app-btn>
                    </div>

                    <div></div>
                </div>
            }
        </div>
    </div>
    
    @if (managementNotesForm) {
        <div class="panel-section management-notes">
        
            <div class="panel-section-header">
                <h2 class="fs3 light">Management notes for <span class="bold">{{_selectedArtist?.name}}</span></h2>
            </div>

            <form class="panel-section-content"
                [formGroup]="managementNotesForm" 
                (ngSubmit)="_submitManagementNotes()">

                <app-textarea
                    [class.active]="false"
                    formControlName="managmentNotes"
                    class="margin-bottom-2"
                    [required]="true"
                    label="Management notes"
                ></app-textarea>

                <div class="btns center">
                    <app-btn class="big"
                        label="Cancel"
                        (click)="_cancelManagementNotesEdit()"
                    ></app-btn>
                    <app-btn class="big light"
                        (click)="_submitManagementNotes()"
                    ></app-btn>
                </div>
            </form>
            
        </div>
    }



</div>