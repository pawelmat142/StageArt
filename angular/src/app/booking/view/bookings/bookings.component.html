<div class="bookings-container">
    
    <div class="bookings" *ngIf="(_bookingsAsManager$ | async) as bookings">
    
        @if (bookings.length) {
    
            <div class="bookings-header">
                <h2 class="fs3 light">Received booking requests</h2>
            </div>

            <div class="booking-itmes-container">

                <div class="booking-item labels">
                    <p>Event date</p>
                    <p>Submit date</p>
                    <p>Event name</p>
                    <p>Status</p>
                    @if (DESKTOP) {
                        <p>Artists</p>
                    }
                </div>
                @for (booking of bookings; track booking.formId; let last = $last) {
                    
                    <div class="booking-item" (click)="_openBooking(booking)">
                        <p>{{booking.startDate | date : 'dd-MM-yyyy'}}</p>
                        <p>{{booking.submitDate | date : 'dd-MM-yyyy'}}</p>
                        <p>{{booking.eventName}}</p>
                        <p>{{booking.status | status}}</p>

                        @if (DESKTOP) {
                            <p>{{booking.artistNames.join(', ')}}</p>
                        }
                    </div>

                }
            </div>
        }
    </div>

    <div class="bookings form-data" *ngIf="(_booking$ | async) as booking">
        <div class="bookings-header ">
            <h2 class="fs3 light booking-header">
                <span>{{booking.eventName}}</span>
                <span>{{booking.startDate | date : 'dd-MM-yyyy'}} <span *ngIf="booking.endDate"> - {{booking.endDate | date : 'dd-MM-yyy'}}</span></span>                
                <span>{{booking.status | status}}</span>
            </h2>
        </div>
        <app-form-presentation 
            [data]="booking.formData"
            [structure]="_bookingFormStructure.form"
        ></app-form-presentation>
    </div>

    <div class="bookings" *ngIf="(_bookingsAsPromoter$ | async) as bookings">
    
        @if (bookings.length) {
    
            <div class="bookings-header">
                <h2 class="fs3 light">Sent booking requests</h2>
            </div>

            <div class="booking-itmes-container">

                <div class="booking-item labels">
                    <p>Event date</p>
                    <p>Submit date</p>
                    <p>Event name</p>
                    <p>Status</p>
                    @if (DESKTOP) {
                        <p>Artists</p>
                    }
                </div>
                @for (booking of bookings; track booking.formId; let last = $last) {
                    
                    <div class="booking-item" (click)="_openBooking(booking)">
                        <p>{{booking.startDate | date : 'dd-MM-yyyy'}}</p>
                        <p>{{booking.submitDate | date : 'dd-MM-yyyy'}}</p>
                        <p>{{booking.eventName}}</p>
                        <p>{{booking.status | status}}</p>
                        @if (DESKTOP) {
                            <p>{{booking.artistNames.join(', ')}}</p>
                        }
                    </div>

                }
            </div>
        }
    </div>
    

</div>